(this["webpackJsonpteeter-totter_second"]=this["webpackJsonpteeter-totter_second"]||[]).push([[0],{13:function(t,e,c){},14:function(t,e,c){},21:function(t,e,c){},30:function(t,e,c){},31:function(t,e,c){},33:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c.n(a),r=c(8),o=c.n(r),i=(c(21),c(3)),s=(c(30),"TOGGLE_STATE"),l="START_GAME",j="RESTART_GAME",u="GAME_OVER",g="CALC_ROTATION",d="ADD_POINTS",b="ADD_LEFT",f="ADD_RIGHT",O="NEW_FALLING_ITEM",h="NEW_RIGHT_ITEM",m="FALLING_END",p=function(t){return{type:s,payload:t}},x=function(t){return{type:l,payload:t}},v=function(t){return{type:j,payload:t}},y=function(t){return{type:u,payload:t}},w=function(t){return{type:g,payload:t}},S=(c(13),c(2)),I=c(4),F=(c(31),c(0)),E=["circle","rectangle","triangle"],N=function(t){var e=Object(i.b)(),c=Object(i.c)((function(t){return t.game.gameEnd})),n=Object(i.c)((function(t){return t.game.gameState})),r=Object(a.useState)(void 0!==t.right&&t.right),o=Object(I.a)(r,2),s=o[0],l=(o[1],Object(a.useState)(void 0!==t.weight?t.weight:(9*Math.random()+1).toFixed())),j=Object(I.a)(l,2),u=j[0],g=(j[1],Object(a.useState)(120)),b=Object(I.a)(g,2),f=b[0],p=b[1],x=Object(a.useState)(void 0!==t.left?t.left:0),v=Object(I.a)(x,2),y=v[0],w=v[1],N=Object(a.useState)(t.type?t.type:E[Math.floor(Math.random()*E.length)]),A=Object(I.a)(N,2),L=A[0],k=(A[1],Object(a.useState)(!!t.falling||t.falling)),M=Object(I.a)(k,2),R=M[0],T=M[1],W=Object(a.useState)(30+5*parseInt(u)),_=Object(I.a)(W,2),D=_[0],C=(_[1],Object(a.useState)(30+5*parseInt(u))),P=Object(I.a)(C,2),G=P[0],B=(P[1],Object(a.useState)(t.color?t.color:"#".concat(Math.floor(16777215*Math.random()).toString(16)))),q=Object(I.a)(B,2),z=q[0],H=(q[1],Object(a.useState)("black")),J=Object(I.a)(H,2),U=J[0],V=(J[1],function(t){if(R){var e=t.code;if("ArrowLeft"===e){if(y<=0)return;window.requestAnimationFrame((function(){w(y-30)}))}else if("ArrowRight"===e){if(y>=450-G)return;window.requestAnimationFrame((function(){w(y+30)}))}}}),K=function(){var t;T(!1),e((t={points:parseInt(u)/2},{type:d,payload:t})),e(function(t){return{type:m,payload:t}}({falling:!1,left:y,weight:u,color:z,type:L,key:Date.now(),force:(500-G-y)*parseInt(u)}));var c=(399*Math.random()+1).toFixed(),a=(9*Math.random()+1).toFixed();e(function(t){return{type:h,payload:t}}({falling:!1,weight:a,type:E[Math.floor(Math.random()*E.length)],color:"#".concat(Math.floor(16777215*Math.random()).toString(16)),key:Date.now(),right:c,force:(500-(30+5*parseInt(a))-parseInt(c))*parseInt(a)})),setTimeout((function(){e(function(t){return{type:O,payload:t}}({}))}),1e3)};Object(a.useEffect)((function(){if(R&&n&&!c)return window.addEventListener("keydown",V),function(){window.removeEventListener("keydown",V)}}),[V]),Object(a.useEffect)((function(){R&&n&&!c&&(R&&p(f+.4),function(){var t=document.querySelector(".tetter"),e=document.querySelector(".tetterDetector"),c=t?null===t||void 0===t?void 0:t.getBoundingClientRect().y:0,a=e?null===e||void 0===e?void 0:e.getBoundingClientRect().y:0;Math.trunc(c)<=Math.trunc(a)&&K()}())}));var Q=function(){switch(L){case"triangle":return{borderLeft:"".concat(G,"px solid transparent"),borderRight:"".concat(G,"px solid transparent"),borderBottom:"".concat(G,"px solid ").concat(z)};case"circle":return{borderRadius:"50%",backgroundColor:z,height:"".concat(D,"px"),width:"".concat(G,"px")};case"rectangle":default:return{backgroundColor:z,height:"".concat(D,"px"),width:"".concat(G,"px")}}};return Object(F.jsx)(F.Fragment,{children:s?Object(F.jsx)("div",{className:"figure",style:Object(S.a)(Object(S.a)({},Q()),{},{top:"-".concat(D,"px"),right:"".concat(s,"px")}),children:Object(F.jsx)("h1",{style:Object(S.a)({margin:0,padding:0,color:U,fontSize:"".concat(D/2,"px"),position:"absolute"},"triangle"===L?{top:"".concat(G/4,"px")}:{}),children:u})}):R?Object(F.jsx)("div",{className:"tetterDetector",style:{transform:"rotate(".concat(t.rotation,"deg)"),top:"".concat(f,"px")},children:Object(F.jsx)("div",{className:"figure",style:Object(S.a)(Object(S.a)({},Q()),{},{top:"-".concat(D,"px"),left:"".concat(y,"px")}),children:Object(F.jsx)("h1",{style:Object(S.a)({margin:0,padding:0,color:U,fontSize:"".concat(D/2,"px"),position:"absolute"},"triangle"===L?{top:"".concat(G/4,"px")}:{}),children:u})})}):Object(F.jsx)("div",{className:"figure",style:Object(S.a)(Object(S.a)({},Q()),{},{top:"-".concat(D,"px"),left:"".concat(y,"px")}),children:Object(F.jsx)("h1",{style:Object(S.a)({margin:0,padding:0,color:U,fontSize:"".concat(D/2,"px"),position:"absolute"},"triangle"===L?{top:"".concat(G/4,"px")}:{}),children:u})})})},A=function(t){var e=Object(i.b)(),c=Object(i.c)((function(t){return t.game.leftItems})),n=Object(i.c)((function(t){return t.game.rightItems})),r=Object(i.c)((function(t){return t.game.totalLeftForce})),o=Object(i.c)((function(t){return t.game.totalRightForce}));return Object(a.useEffect)((function(){if(r>o){var t=(r-o)/100;return e(w({rotation:(-1*t).toFixed()})),t>15?void e(y({})):void 0}if(r<o){var c=(o-r)/100;return e(w({rotation:c.toFixed()})),c>15?void e(y({})):void 0}e(w({rotation:0}))}),[r,o]),Object(F.jsxs)("div",{className:"tetter",style:{transform:"rotate(".concat(t.rotation,"deg)")},children:[Object(F.jsx)("div",{className:"leftArea",children:c&&c.length>0?c.map((function(t){return Object(F.jsx)(N,{type:t.type,color:t.color,falling:t.falling,left:t.left,weight:t.weight},t.key)})):Object(F.jsx)(F.Fragment,{})}),Object(F.jsx)("div",{className:"rightArea",children:n&&n.length>=0?n.map((function(t){return Object(F.jsx)(N,{weight:t.weight,type:t.type,color:t.color,falling:!1,right:t.right},t.key)})):Object(F.jsx)(F.Fragment,{})})]})},L=function(t){var e=Object(i.b)(),c=Object(i.c)((function(t){return t.game.gameEnd})),n=Object(i.c)((function(t){return t.game.gameState})),r=Object(i.c)((function(t){return t.game.started})),o=Object(i.c)((function(t){return t.game.rotating})),s=Object(i.c)((function(t){return t.game.fallingItems})),l=function(t){var a=t.code;if(!c&&"Space"===a){if(r)return void e(p({}));e(x({}))}};return Object(a.useEffect)((function(){return window.addEventListener("keydown",l),function(){window.removeEventListener("keydown",l)}}),[l]),Object(F.jsxs)("div",{className:"content",children:[r?Object(F.jsx)("div",{className:"pausedModal ".concat(n&&!c?"":"paused"),children:c?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h1",{children:"Game Over"}),Object(F.jsx)("button",{className:"restartButton",onClick:function(){e(v({}))},children:"Restart"})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h1",{children:"PAUSE"}),Object(F.jsx)("h3",{children:"(Press space to continue)"})]})}):Object(F.jsx)(F.Fragment,{}),Object(F.jsxs)("div",{className:"gameArea",children:[void 0!==s&&s.length>0?s.map((function(t){return Object(F.jsx)(N,{falling:!0,rotation:o},t.key)})):Object(F.jsx)(F.Fragment,{}),Object(F.jsx)(A,{rotation:o}),Object(F.jsx)("div",{className:"bottomTriangle"})]})]})},k=(c(14),function(t){return Object(F.jsx)("div",{className:"button",onClick:t.onClick,children:t.image?Object(F.jsx)("img",{style:{height:"50px",width:"50px"},src:t.image}):Object(F.jsx)("span",{className:"label",children:t.label})})}),M=function(t){return Object(F.jsxs)("div",{className:"counter",children:[Object(F.jsx)("span",{className:"label",children:t.label}),Object(F.jsx)("span",{className:"value",children:t.value})]})},R=c.p+"static/media/start.74daff10.svg",T=c.p+"static/media/pause.7059db03.svg",W=function(t){var e=Object(i.b)(),c=Object(i.c)((function(t){return t.game.gameEnd})),a=Object(i.c)((function(t){return t.game.gameState})),n=Object(i.c)((function(t){return t.game.started})),r=Object(i.c)((function(t){return t.game.rotating})),o=Object(i.c)((function(t){return t.game.speed})),s=Object(i.c)((function(t){return t.game.leftWeight})),l=Object(i.c)((function(t){return t.game.rightWeight})),j=Object(i.c)((function(t){return t.game.totalPoints}));return Object(F.jsxs)("div",{className:"header",children:[Object(F.jsx)("div",{className:"logo",children:Object(F.jsx)("h2",{children:"Teeter totter - React"})}),Object(F.jsxs)("div",{className:"control",children:[Object(F.jsx)(k,{image:a?T:R,onClick:function(){e(c?v({}):n?p({}):x({}))}}),Object(F.jsx)(M,{label:"Bending",value:"".concat(2*r,"%")}),Object(F.jsx)(M,{label:"Speed",value:"".concat(o)}),Object(F.jsx)(M,{label:"Left weight",value:"".concat(s)}),Object(F.jsx)(M,{label:"Right weight",value:"".concat(l)}),Object(F.jsx)(M,{label:"Points",value:"".concat(j)})]})]})},_=c(5),D=c(7),C={gameState:!1,started:!1,rotating:11,speed:1,leftWeight:0,rightWeight:0,totalPoints:0,leftItems:[],rightItems:[],falingItems:[],totalLeftForce:0,totalRightForce:0,gameEnd:!1},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s:return Object(S.a)(Object(S.a)({},t),{},{gameState:!t.gameState,started:!0});case j:return Object(S.a)(Object(S.a)({},t),{},{gameState:!t.gameState,leftWeight:0,rightWeight:0,totalPoints:0,totalLeftForce:0,totalRightForce:0,leftItems:[],rightItems:[],gameEnd:!1,rotating:0});case l:return Object(S.a)(Object(S.a)({},t),{},{gameState:!t.gameState,started:!0,fallingItems:[].concat(Object(D.a)(t.falingItems),[{key:Date.now()}])});case u:return Object(S.a)(Object(S.a)({},t),{},{gameEnd:!0,gameState:!t.gameState});case m:return Object(S.a)(Object(S.a)({},t),{},{leftItems:[].concat(Object(D.a)(t.leftItems),[e.payload]),leftWeight:t.leftWeight+parseInt(e.payload.weight),totalLeftForce:t.totalLeftForce+parseInt(e.payload.force)});case h:return Object(S.a)(Object(S.a)({},t),{},{rightItems:[].concat(Object(D.a)(t.rightItems),[e.payload]),rightWeight:t.rightWeight+parseInt(e.payload.weight),totalRightForce:t.totalRightForce+parseInt(e.payload.force)});case O:return Object(S.a)(Object(S.a)({},t),{},{fallingItems:[].concat(Object(D.a)(t.falingItems),[{key:Date.now()}])});case d:return Object(S.a)(Object(S.a)({},t),{},{totalPoints:t.totalPoints+e.payload.points});case b:return Object(S.a)(Object(S.a)({},t),{},{leftWeight:t.leftWeight+e.payload.weight});case f:return Object(S.a)(Object(S.a)({},t),{},{rightWeight:t.rightWeight+e.payload.weight});case g:return Object(S.a)(Object(S.a)({},t),{},{rotating:e.payload.rotation});default:return t}},G=Object(_.b)({game:P}),B=Object(_.c)(G);var q=function(){return Object(F.jsx)(i.a,{store:B,children:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(W,{}),Object(F.jsx)(L,{})]})})},z=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(e){var c=e.getCLS,a=e.getFID,n=e.getFCP,r=e.getLCP,o=e.getTTFB;c(t),a(t),n(t),r(t),o(t)}))};o.a.render(Object(F.jsx)(n.a.StrictMode,{children:Object(F.jsx)(q,{})}),document.getElementById("root")),z()}},[[33,1,2]]]);
//# sourceMappingURL=main.6b21285a.chunk.js.map